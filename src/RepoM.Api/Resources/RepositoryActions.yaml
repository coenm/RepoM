version: 1

variables:
- name: IsRepoM
  value: '{empty}{StringContains({Repository.SafePath}, "RepoM")}'

repository-specific-env-files:
- filename: '{Repository.SafePath}{slash}.git{slash}repom.env'
  when: '{var.IsRepoM}'
- filename: '{Repository.SafePath}{slash}repom.env'
  when: true

repository-specific-config-files:
- filename: '{Repository.SafePath}{slash}.git{slash}RepositoryActions.json'
- filename: '{Repository.SafePath}{slash}RepositoryActions.json'

repository-tags:    
- tag: Work
  when: '{StringContains({Repository.SafePath}, "Work")}'
- tag: Private
  when: '{Not({StringContains({Repository.SafePath}, "Work")})}'

repository-actions:
  variables:
  - name: key
    value: abc
  actions:
  - type: command@1
    variables:
    - name: Test2
      value: -- T3sT2
      enabled: true
    name: '{OpenIn} Windows File Explorer'
    command: '"{Repository.SafePath}"'
    active: true

  - type: separator@1
  - type: browse-repository@1
  - type: separator@1
  - type: git-fetch@1
  - type: git-pull@1
  - type: git-push@1
  - type: git-checkout@1
  - type: separator@1
  - type: ignore-repositories@1
  - type: separator@1